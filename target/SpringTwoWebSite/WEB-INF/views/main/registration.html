<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="head :: frag(title='Registration',links = 'css/registration.css',scripts='js/common/form_reset.js')"> </head>

<body>

    <th:block
            th:with="email=${session.email},
            selCountry=${session.countryId},
            username=${session.username},
            gender=${session.gender}">

    <div id = "registration_div">

        <div id = "registration_form">

            <form th:action = "@{/registration}" method="POST" th:object="${userForm}">

                <p>
                    <input type="text" th:field="*{username}"
                           th:class="text" th:placeholder="#{label.username}"/>
                </p>
                <div th:if="${#fields.hasErrors('username')}">
                    <p th:each="err : ${#fields.errors('username')}"
                       th:text="${err}">Username error
                    </p>
                </div>

                <p>
                    <input type="text" th:field="*{email}"
                           th:class="text" th:placeholder="#{label.email}"/>
                </p>
                <div th:if="${#fields.hasErrors('email')}">
                    <p th:each="err : ${#fields.errors('email')}"
                       th:text="${err}">Email error
                    </p>
                </div>

                <p>
                    <input type="text" th:field="*{password}"
                           th:class="text" th:placeholder="#{label.password}"/>
                </p>
                <div th:if="${#fields.hasErrors('password')}">
                    <p th:each="err : ${#fields.errors('password')}"
                       th:text="${err}">Email error
                    </p>
                </div>

                <p>
                    <input type="text" th:field="*{passwordAgain}"
                           th:class="text" th:placeholder="#{label.confirm_password}"/>
                </p>
                <div th:if="${#fields.hasErrors('passwordAgain')}">
                    <p th:each="err : ${#fields.errors('passwordAgain')}"
                       th:text="${err}">Email error
                    </p>
                </div>

                <div th:replace="user_dop_data :: dop_data(countries = ${countries})"></div>

                <input type="submit" value="Register"/>

            </form>

        </div>

    </div>

    </th:block>

</body>

</html>
