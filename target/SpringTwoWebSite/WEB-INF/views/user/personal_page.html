<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:replace="head :: frag(
                    title='Registration',
                    links = ${new String[]{'/css/menu.css','css/personal_page.css'}},
                    scripts=${new String[]{'/js/jquery-3.2.1.js','js/search/menu_search.js','js/common/change_lang.js'}})">
</head>

<body>

<div th:replace="main/menu_main :: menu"></div>

<div th:class="container">

<div id = "personal_div">

    <div id = "user_data" th:object="${user}">
        <h2 class = "user_p" th:text="#{label.personal_data}"></h2>
        <p class = "user_p"><span th:text="#{label.usernameReal} + ': ' + ${user.usernameReal}"></span></p>
        <p class = "user_p"><span th:text="#{label.country} + ': ' + ${user.country.getName()}"></span></p>
        <p class = "user_p"><span th:text="#{label.gender} + ': ' + ${user.gender.value}"></span></p>

        <th:block sec:authorize="hasRole('ADMIN')">

            <p>
                <th:block th:replace="form_btn :: form_btn_meth(controller='ABC#',method='addBook',btnValue=#{btn.add_book})" />
            </p>

            <p>
                <th:block th:replace="form_btn :: form_btn_meth(controller='AC#',method='addAuthor',btnValue=#{btn.add_author})" />
            </p>

        </th:block>

        <p>
            <th:block th:replace="form_btn :: form_btn_meth(controller='UC#',method='changePersonalGet',btnValue=#{btn.change_data})" />
        </p>

        <p>
            <th:block th:replace="form_btn :: form_btn_meth(controller='UC#',method='deleteUser',btnValue=#{btn.delete_user})" />
        </p>

        <div id = "registration_div">
            <p th:text="${update_message}"></p>
        </div>

</div>

</div>

</div>

<th:block th:replace="bottom :: bottom"></th:block>

</body>

</html>